{"version":3,"sources":["../../../src/common/controller/error.js"],"names":[],"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIE;;;;;mBAKA,gB,6BAAiB,M,EAAO;AACtB,QAAI,SAAS,QAAb;AACA,QAAG,MAAM,IAAN,KAAe,MAAM,WAAxB,EAAoC;AAClC,eAAS,KAAK,MAAL,CAAY,gBAAZ,CAAT;AACD;AACD,QAAI,OAAU,MAAV,eAA0B,MAA1B,UAAJ;AACA,QAAI,UAAU,KAAK,MAAL,CAAY,KAAZ,CAAd;AACA,cAAU,MAAM,MAAN,CAAa,EAAb,EAAiB,OAAjB,EAA0B,EAAC,MAAM,KAAP,EAAc,WAAW,GAAzB,EAA1B,CAAV;AACA,WAAO,KAAK,OAAL,CAAa,IAAb,EAAmB,OAAnB,CAAP;AACD,G;AACD;;;;;;mBAIA,U,yBAAY;AACV,WAAO,KAAK,gBAAL,CAAsB,GAAtB,CAAP;AACD,G;AACD;;;;;;mBAIA,U,yBAAY;AACV,WAAO,KAAK,gBAAL,CAAsB,GAAtB,CAAP;AACD,G;AACD;;;;;;mBAIA,U,yBAAY;AACV,WAAO,KAAK,gBAAL,CAAsB,GAAtB,CAAP;AACD,G;AACD;;;;;;mBAIA,U,yBAAY;AACV,WAAO,KAAK,gBAAL,CAAsB,GAAtB,CAAP;AACD,G;AACD;;;;;;mBAIA,U,yBAAY;AACV,WAAO,KAAK,gBAAL,CAAsB,GAAtB,CAAP;AACD,G;;;EAlD0B,MAAM,UAAN,CAAiB,I","file":"error.js","sourcesContent":["'use strict';\n/**\n * error controller\n */\nexport default class extends think.controller.base {\n  /**\n   * display error page\n   * @param  {Number} status []\n   * @return {Promise}        []\n   */\n  displayErrorPage(status){\n    let module = 'common';\n    if(think.mode !== think.mode_module){\n      module = this.config('default_module');\n    }\n    let file = `${module}/error/${status}.html`;\n    let options = this.config('tpl');\n    options = think.extend({}, options, {type: 'ejs', file_depr: '_'});\n    return this.display(file, options);\n  }\n  /**\n   * Bad Request \n   * @return {Promise} []\n   */\n  _400Action(){\n    return this.displayErrorPage(400);\n  }\n  /**\n   * Forbidden \n   * @return {Promise} []\n   */\n  _403Action(){\n    return this.displayErrorPage(403);\n  }\n  /**\n   * Not Found \n   * @return {Promise}      []\n   */\n  _404Action(){\n    return this.displayErrorPage(404);\n  }\n  /**\n   * Internal Server Error\n   * @return {Promise}      []\n   */\n  _500Action(){\n    return this.displayErrorPage(500);\n  }\n  /**\n   * Service Unavailable\n   * @return {Promise}      []\n   */\n  _503Action(){\n    return this.displayErrorPage(503);\n  }\n}"]}